<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>the best</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>
<body>
    <div id="size-wrapper">
        <label class="size-label" for="210">210</label>
        <label class="size-label" for="220">220</label>
        <label class="size-label" for="230">230</label>
        <label class="size-label" for="240">240</label>
        <label class="size-label" for="250">250</label>
    </div>
    <div class="input-wrapper">
        <input type="checkbox" name="size" id="210" value="210" />
        <input type="checkbox" name="size" id="220" value="220" />
        <input type="checkbox" name="size" id="230" value="230" />
        <input type="checkbox" name="size" id="240" value="240" />
        <input type="checkbox" name="size" id="250" value="250" />
    </div>
    <p id="count">count : hh</p>

    <script>
        $(document).ready(function() {
            $('input[name="size"]').on("click", function() {
              var size_checked_list = [];
              $('input[name="size"]:checked').each(function() {
                size_checked_list.push($(this).val());
              });
              console.log(size_checked_list);
              $.ajax({
                type: "POST",
                url: "{% url 'products:checked_list' %}",
                data: {
                  'checked[]': size_checked_list,
                  'csrfmiddlewaretoken': "{{ csrf_token }}"
                },
                dataType: "json",
                success: function(response) {
                  var check = [];
                  check.push(response.message);
                },
                error: function(request, status, error) {
                  console.log("실패");
                }
              });
            });
          });
        </script>
    {% for ch in check %}
    <h1> {{ch}}</h1>
    {% endfor %}

</body>
</html>